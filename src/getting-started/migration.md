---
layout: layout.njk
eleventyNavigation:
  key: "Migration"
  title: "ðŸšš Migration"
  order: 100
summary: Some tips for migration from Parcel 1 to Parcel 2
---

**TODO: before/after or diff?**

For the most part, you shouldn't have to change anything when upgrading to Parcel 2.

### Importing non-code assets from Javascript

If you want import the url to an image (or a soundfile, etc.) from Javascript, you need to prepend `url:` to the module specifier.

{% migration %}
{% samplefile %}

```diff
- import logo from "./logo.svg";
+ import logo from "url:./logo.svg";

  document.body.innerHTML = `<img src="${logo}">`;
```

{% endsamplefile %}
{% samplefile %}

```js
import logo from "url:./logo.svg";

document.body.innerHTML = `<img src="${logo}">`;
```

{% endsamplefile %}
{% endmigration %}


### `package.json#main`

Many `package.json`s (e.g. the one generated by `npm init`) contains `main: "index.js"` and was ignored for non-library projects. Parcel 2 will however use that value as the output path ([Configuration#main](/getting-started/configuration#main) TODO LINK),

### `--target node`, `--target electron`

This CLI flag is now inferred from your `package.json`, one of these three properties is enough (number denotes priority).

{% migration %}
{% samplefile %}

```bash
parcel build index.js --target node
```

{% endsamplefile %}
{% samplefile %}

```json5
{
  "targets": {
    "default": {
      "context": "node", // <-- (1)
      "engines": {
        "node": "10" // <------ (2)
      }
    }
  },
  "engines": {
    "node": "10" // <---------- (3)
  }
}
```

{% endsamplefile %}
{% endmigration %}


See [Configuration#context](/getting-started/configuration#context) (TODO LINK) for more information.
